<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<!-- todo Use production version of Vue-->
	<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
	<!-- Custom Javascript -->
	<script src="js/index.js" type="module"></script>
	<!-- Bulma CSS library-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
	<!-- Font Awesome Icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"/>
	<!-- Custom CSS -->
	<link rel="stylesheet" href="css/style.css">
	<title>Gin Rummy | Login</title>
</head>

<body>
	<nav id="sidebar">
		<div class="title" id="brand">
			<h1>Gin Rummy</h1>
			<p class="subtitle">by Jack and Leo</p>
		</div>

		<!--	Lobby Page Sidebar		-->

		<div class="card" id="join-game-by-id" v-show="state === 'lobby'">
			<header class="card-header">
				<p class="card-header-title">Join game by Game ID.</p>
			</header>
			<div class="card-content">
				<div class="content">
					<form name="join-form" v-on:submit.prevent="join(gameId)">
						<label>
							<input type="text" class="input is-small" v-model="gameId" placeholder="Game ID">
						</label>
						<input type="submit" class="button is-small" value="Join">
					</form>
					{{ message }}
				</div>
			</div>
		</div>

		<div class="card" id="new-game" v-show="state === 'lobby'">
			<header class="card-header">
				<p class="card-header-title">Create new game.</p>
			</header>
			<div class="card-content">
				<div class="content">
					<button class="button is-small" v-on:click="createNewGame">Create!</button>
					<br>
					{{ message }}
				</div>
			</div>
		</div>

	</nav>

	<section id="main">
		<div class="container" id="display">

			<!--	Login Page		-->

			<div class="card" id="login" v-show="state === 'login'">
				<header class="card-header">
					<p class="card-header-title">Login with your credentials.</p>
				</header>
				<div class="card-content">
					<div class="content">
						<form name="login-form" v-on:submit.prevent="login">
							<label>
								<input class="input is-small" type="text" v-model="username" placeholder="Username">
							</label>
							<label>
								<input class="input is-small" type="password" v-model="password" placeholder="Password" autocomplete="on">
							</label>
							<input class="button is-small" type="submit" value="Login">
						</form>
						{{ message }}
					</div>
				</div>
			</div>

			<div class="card" id="register" v-show="state === 'login'">
				<header class="card-header">
					<p class="card-header-title">Register a new user.</p>
				</header>
				<div class="card-content">
					<div class="content">
						<form name="registration-form" v-on:submit.prevent="register">
							<label>
								<input class="input is-small" type="text" v-model="username" placeholder="Username">
							</label>
							<label>
								<input class="input is-small" type="password" v-model="password" placeholder="Password" autocomplete="on">
							</label>
							<label>
								<input class="input is-small" type="password" v-model="passwordConfirm" placeholder="Confirm Password" autocomplete="on">
							</label>
							<input type="submit" class="button is-small" value="Register">
						</form>
						{{ message }}
					</div>
				</div>
			</div>

			<div class="card" id="guest" v-show="state === 'login'">
				<header class="card-header">
					<p class="card-header-title">Play as guest without registration.</p>
				</header>
				<div class="card-content">
					<div class="content">
						<div class="content">
							<button class="button is-small" v-on:click="loginAsGuest">Play!</button>
						</div>
					</div>
				</div>
			</div>

			<!--	Lobby Page		-->

			<div class="card" id="open-games" v-show="state === 'lobby'">
				<header class="card-header">
					<p class="card-header-title">Open games.</p>
					<button v-on:click="getGames" class="button is-white">
                    <span class="icon">
                      <i class="fas fa-sync"></i>
                    </span>
					</button>
				</header>
				<div class="card-content">
					<div class="content">
						<table>
							<tr v-for="(gameId) in openGames">
								<td>{{ gameId }}</td>
								<td><button class="button is-small" v-on:click="join(gameId)">Join!</button></td>
							</tr>
						</table>
					</div>
				</div>
			</div>

		</div>
	</section>

</body>

</html>